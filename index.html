<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë¶€ë™ì‚° ë§¤ë§¤/ì „ì„¸ ì°¨íŠ¸ ëŒ€ì‹œë³´ë“œ</title>
    <style>
        /* (ìœ„ì—ì„œ ë“œë¦° ìŠ¤íƒ€ì¼ê³¼ ë™ì¼í•˜ë¯€ë¡œ ìƒëµ, ë””ìì¸ì€ ìœ ì§€ë©ë‹ˆë‹¤) */
        :root { --primary-color: #2c3e50; --accent-color: #3498db; --bg-color: #f4f7f6; }
        body { font-family: 'Pretendard', sans-serif; background-color: var(--bg-color); padding: 20px; }
        header { text-align: center; margin-bottom: 40px; }
        .search-container { max-width: 600px; margin: 0 auto 30px; display: flex; }
        #searchInput { flex: 1; padding: 12px; border: 2px solid #ddd; border-radius: 8px; }
        .dashboard-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; }
        .apt-card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: 0.2s; text-decoration: none; color: inherit; border: 2px solid transparent; display: block; }
        .apt-card:hover { transform: translateY(-5px); border-color: var(--accent-color); }
        .tag { display: inline-block; background: #e1f5fe; color: #01579b; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; margin-top: 10px; margin-right: 5px; }
    </style>
</head>
<body>

<header>
    <h1>ğŸ¢ ë¶€ë™ì‚° ë‹¨ì§€ ë°ì´í„° ìë™ ë¡œë“œ</h1>
    <p>JSON ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.</p>
</header>

<div class="search-container">
    <input type="text" id="searchInput" placeholder="ë‹¨ì§€ëª… ê²€ìƒ‰..." onkeyup="filterCards()">
</div>

<div class="dashboard-grid" id="aptGrid">
    </div>

<script>
    let aptData = []; // ë°ì´í„°ë¥¼ ë‹´ì„ ë°°ì—´

    // 1. JSON íŒŒì¼ ë¡œë“œí•˜ê¸°
    async function loadApts() {
        try {
            const response = await fetch('data.json');
            aptData = await response.json();
            renderCards(aptData);
        } catch (error) {
            console.error("ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤:", error);
            document.getElementById('aptGrid').innerHTML = "<p>ë°ì´í„° ë¡œë”© ì‹¤íŒ¨. data.json íŒŒì¼ì„ í™•ì¸í•˜ì„¸ìš”.</p>";
        }
    }

    // 2. ì¹´ë“œ HTML ìƒì„± ë° ë Œë”ë§
    function renderCards(data) {
        const grid = document.getElementById('aptGrid');
        grid.innerHTML = data.map(apt => `
            <a href="${apt.file}" class="apt-card">
                <h3>${apt.name}</h3>
                <p>${apt.location}</p>
                <div>${apt.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}</div>
            </a>
        `).join('');
    }

    // 3. ê²€ìƒ‰ í•„í„° ê¸°ëŠ¥
    function filterCards() {
        const query = document.getElementById('searchInput').value.toUpperCase();
        const filtered = aptData.filter(apt => 
            apt.name.toUpperCase().includes(query) || 
            apt.location.toUpperCase().includes(query)
        );
        renderCards(filtered);
    }

    // í˜ì´ì§€ ì‹œì‘ ì‹œ ë¡œë“œ
    loadApts();
</script>

</body>
</html>
